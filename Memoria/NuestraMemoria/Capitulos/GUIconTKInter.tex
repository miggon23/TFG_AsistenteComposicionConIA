\chapter{Interfaz de Usuario con TKInter}
\label{cap:GUIconTKInter}
Hemos elegido TKINter como frontend para nuestra aplicación. El frontend es la parte visible de una aplicación, con la que puede interactuar el usuario.

\section{TKInter}
\label{sec:TK}
\href{https://docs.python.org/es/3/library/tkinter.html}{TKInter} es la biblioteca por defecto de Python para la creación de GUI, interfaz gráfica de usuario por sus siglas en inglés.


\subsection{Widgets de TKInter}
Los \textit{widgets} de TKInter son elementos de UI a los que se les puede vincular acciones de código propio. Estos \textit{widgets} van asociados a una ventana para poder renderizarse en pantalla y así recibir acciones del usuario o mostrar información. Veremos en las subsecciones siguientes las funciones de la aplicación, los widgets asociados y el funcionamiento de nuestra aplicación por debajo.

\subsection{Sistema de pestañas con Tk.Notebook}
\textit{Tk.Notebook} es un \textit{widget} que permite tener varias pestañas en la aplicación. Esto se hace creando una nueva ventana y pasándosela al \textit{Notebook} para que las organice. Esto nos deja la posibilidad de organizar y distribuir las funcionalidades de la aplicación en distintas pestañas como son: \generationTabName{}, \tematicTabName{}, \advancedTabName{}, \configTabName{}.

% Se puede cambiar el título del capítulo por La App y dejar la GUI como sección
\section{La app}
\label{sec:TK:app}

\subsection{Generación Musical}
Pestaña de la aplicación que permite generar el MIDI. Esto se realiza vinculando los \textit{widgets} de botón de TKInter con los apartados de generación y armonía.

La Sección \ref{cap:generacionMusical} detalla más sobre la generación musical, y la Sección \ref{cap:armonizacion}, sobre la armonización

\subsection{Temáticas y sonorización}
\label{subsec:TK:TematicasYSonorizacion}
La pestaña \textit{\tematicTabName{}} anexiona las principales funcionalidades de la aplicación. El MIDI generado en la pestaña \textit{\generationTabName{}} se sonoriza de acuerdo a la configuración de la pestaña \textit{\tematicTabName{}}. 

En la guía de uso de la aplicación (Sección \ref{subsec:app:themes}) se muestra las temáticas seleccionables.

\subsubsection{Semilla}
La semilla es la fuente de generador aleatoria que permite obtener los mismos valores cuando se obtiene un nuevo \textit{random()} de un generador.

Nos interesa poder generar distintas semillas, que den variedad a los resultados generados por la aplicación. Conociendo qué semilla se ha generado, podemos guardarlas persistiendo el actual estado de la aplicación en un fichero .json (ver la Sección \ref{subsub:TK:serializacionYPresets}).

\subsubsection{Serialización y presets}
\label{subsub:TK:serializacionYPresets}
La aplicación cuenta con la posibilidad de guardar su estado en momentos específicos. Esto lo hacemos leyendo los atributos de una clase llamada AppModeState y serializándolos a un JSON. Una vez tenemos este objeto JSON, lo persistimos a un fichero \textit{.json} con un nombre que nos de el usuario. Estos ficheros que guardan la configuración del estado de la aplicación reciben el nombre de \textit{presets}. 

Estos presets pueden ser recuperados para establecer el estado de la aplicación a la información contenida en el JSON. Esta característica permite al usuario guardar la configuración de temática, checkboxes (modificadores) y semillas que quiera recuperar posteriormente.

\subsection{Modo avanzado}
La pestaña \advancedTabName{} de la aplicación dota al usuario de un control más exhaustivo de la aplicación. Esta pestaña está apartada del público general debido a que ofrece una visión más compleja de la aplicación, estando dirigida a usuarios de la aplicación avanzados o personas con conocimientos musicales avanzados.

\subsection{Configuración y guardado}
Debido a que dependemos de software de terceros como es REAPER y no podemos brindarlo con nuestra aplicación, necesitamos que el usuario nos brinde información acerca de su sistema, como en qué ruta se encuentra el ejecutable de REAPER para poder iniciarlo y hacer uso de nuestra aplicación
