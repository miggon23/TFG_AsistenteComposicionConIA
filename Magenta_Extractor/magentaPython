import subprocess
import json

def generate_melody():
    # Llama al script JavaScript desde Python
    process = subprocess.Popen(['node', 'D:/Universidad/TFG_AsistenteComposicionConIA/Magenta_Extractor/magentaTests.js'], stdout=subprocess.PIPE)
    
    # Captura la salida del proceso (la secuencia de notas generada)
    output, _ = process.communicate()
    
    # Decodifica la salida JSON que contiene la secuencia de notas generada
    melody_data = json.loads(output.decode('utf-8'))

    return melody_data

# Llama a la función para generar la melodía y obtén la secuencia de notas
melody_sequence = generate_melody()

# Usa la secuencia de notas como desees
print(melody_sequence)
